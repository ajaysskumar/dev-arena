<!DOCTYPE html><html lang="en"><head>
    <!-- Google tag (gtag.js) -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-N1BDBV7WLD"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-N1BDBV7WLD');
    </script>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Dev Codex: Your Ultimate Guide to .NET Development, Testing, and Security</title>
    <meta name="description" content="Your ultimate resource for development, AI integration, clean coding, software testing, and modern software practices."/>
    <meta name="keywords" content=".NET development, AI in software, clean coding, performance testing, software practices, secure applications, modern development"/>
    <meta name="author" content="Ajay Kumar"/>
    <meta property="og:title" content="Dev Codex: Your Ultimate Guide to .NET Development, AI, and Software Practices"/>
    <meta property="og:description" content="Explore expert insights on .NET development, AI integration, clean coding, performance testing, and modern software practices. Build better, smarter, and faster applications with Dev Codex."/>
    <meta property="og:url" content="https://devcodex.in/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:locale" content="en_US"/>
    <base href="/"/>
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/app.css"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.5.0/font/bootstrap-icons.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-csharp.min.js"></script>
<link rel="icon" type="image/png" href="favicon.png"/>
<link href="TestArena.styles.css" rel="stylesheet"/>

<!--Blazor:{"type":"webassembly","prerenderId":"76782566b9fb4458a0efec04a981a169","key":{"locationHash":"77D12F14A8105320B1AAED6AE7E689DA0EC4483270A645E84079EAA0FFDF550D:0","formattedComponentKey":""},"assembly":"Microsoft.AspNetCore.Components.Web","typeName":"Microsoft.AspNetCore.Components.Web.HeadOutlet","parameterDefinitions":"W10=","parameterValues":"W10="}--><!--Blazor:{"prerenderId":"76782566b9fb4458a0efec04a981a169"}-->
</head>

<body>
    <div id="app">
<!-- %%-PRERENDERING-BEGIN-%% -->
<!--Blazor:{"type":"webassembly","prerenderId":"d32466351ad147bbb02f4a3955a64632","key":{"locationHash":"C733C888C8D7667DAA615FD13FBCEA27A63564B6248D165D07D7213BB48ED1E2:0","formattedComponentKey":""},"assembly":"TestArena","typeName":"TestArena.App","parameterDefinitions":"W10=","parameterValues":"W10="}--><div class="page " b-mcp0h0uciv><main class="d-flex flex-column min-vh-100" b-mcp0h0uciv><header class="bg-dark text-white p-3 d-flex align-items-center"><div class="container-fluid"><div class="container-fluid"><div class="row align-items-center"><div class="col-12 col-md-4 d-flex justify-content-md-start justify-content-center"><a class="btn text-white d-flex align-items-center" href="/"><img src="/images/shared/logo.png" alt="Logo" class="me-2 mg-fluid rounded" style="height: 2rem;">
                        <h3 class="m-0">Dev Codex</h3></a></div>

                
                <div class="col-12 col-md-4 d-flex justify-content-md-center justify-content-center mt-2 mt-md-0"><div class="w-75 position-relative"><input type="text" class="form-control" placeholder="Search..." />
        <ul class="list-group position-absolute w-100 mt-1" style="z-index: 1000;" hidden></ul></div></div>

                
                <div class="col-12 col-md-4 d-flex justify-content-md-end justify-content-center mt-2 mt-md-0"><div class="dropdown"><a href="/about-author" class="d-inline-block rounded-circle overflow-hidden border border-white" style="width: 3rem; height: 3rem; border-width: 0.25rem;"><img src="/images/shared/author.png" alt="About Author" class="img-fluid rounded-circle" style="width: 100%; height: 100%; object-fit: cover;"></a></div></div></div></div></div></header>
        <article class="content px-4" b-mcp0h0uciv><div class="container-fluid d-flex flex-column align-items-center"><div class="content-wrapper"><style>
    .article-header {
        margin: 0 auto;
        /* Centers the div */
        text-align: center;
        padding: 20px 0;
    }

    .container-fluid,
    .row,
    .col-md-12,
    .col-6 {
        padding: 0 !important;
        margin: 0 !important;
    }

    .article-image {
        max-width: 500px !important;
        height: auto;
        border-radius: 10px;
    }
</style>

<header class="article-header"><div class="row"><div class="col-md-12"><h1 class="fw-bold">Integration testing for dotnet core APIs: Working with AWS flows</h1></div>
        <div class="col-md-12"><img src="images/blog/integration-testing/handling-aws/banner.png" alt="Article Banner" height="200" width="auto" class="img-fluid rounded mx-auto d-block my-3" /></div>
        <div class="col-md-12"><div class="container-fluid"><div class="row"><div class="col-md-6 col-xs-12 d-flex justify-content-md-start justify-content-center"><span class="text-secondary fw-bold">Author(s): </span>
                        <span class="text-secondary fw-bold ms-1">Ajay Kumar</span></div>

                    
                    <div class="col-md-6 col-xs-12 d-flex justify-content-md-end justify-content-center"><span class="text-muted fw-bold">Last updated: 03 May 2025</span></div></div></div></div></div></header>
    <h4>Summary</h4>
    <p>Welcome back to our integration testing in .NET series! In this chapter, we‚Äôre diving into the exciting world of testing AWS components integrated into our .NET APIs. For a quick introduction on integration testing, refer to the article below.</p>

    <div class="card mb-3 mx-auto" style="max-width: 600px;"><div class="row g-0"><div class="col-md-8"><div class="card-body"><h5 class="card-title"><a href="/blog/integration-testing-in-dotnet-intro" class="text-decoration-none"><strong>Integration testing for dotnet core APIs: Introduction</strong></a></h5>
                <p class="card-text">Integration testing for dotnet core APIs: Introduction</p>
                <a href="/blog/integration-testing-in-dotnet-intro" class="text-muted">devcodex.in</a></div></div>
        <div class="col-md-4 d-flex align-items-center pe-2"><img src="/images/blog/integration-testing/intro/banner.png" class="img-fluid rounded-end" alt="Blog Image" /></div></div></div>

    <h6>Modern apps and cloud</h6>
    <p>AWS services (or any cloud services) have become the backbone of modern application development, offering scalable and reliable solutions for a variety of needs. For example, Amazon SNS (Simple Notification Service) sends notifications to users or systems via email, SMS, or other channels. Meanwhile, Amazon SQS (Simple Queue Service) enables asynchronous communication between distributed system components.</p>

    <h6>Challenges in testing cloud integrations</h6>
    <p>Here‚Äôs the twist: while using AWS services like SNS, SQS, S3, or SES is straightforward with the SDK, how do we ensure that our messages actually reach AWS? It‚Äôs not just about calling the right method with the right input; it‚Äôs about verifying that AWS receives and processes our requests correctly.</p>

    <p>Another challenge is the cost associated with testing on real AWS infrastructure. Running integration tests frequently on live AWS services can quickly add up, especially when dealing with high volumes of requests or multiple environments. This is where tools like LocalStack come in handy, allowing us to emulate AWS services locally and avoid unnecessary expenses.</p>

    <h6>Lets dive into the article</h6>
    <p>To make this more fun, imagine we‚Äôve built an API called <code>call-superhero</code>. This API takes a superhero‚Äôs name as a parameter and sends an SNS notification, hoping that the superhero hears the call and springs into action!</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    [HttpPost("call-superhero")]
    public async Task&lt;IActionResult&gt; CallSuperHero(string superHeroName)
    {
        // Simulate calling a superhero
        var superHero = await superHeroRepository.GetAllSuperHeroes();
        var hero = superHero.FirstOrDefault(h => h.SuperName.Equals(superHeroName, StringComparison.InvariantCultureIgnoreCase));

        // Publish an SNS notification
        var topicArn = configuration.GetValue&lt;string&gt;("AWS:SnsTopicArn"); // Ensure this is configured in appsettings.json
        var message = $"Calling {hero.SuperName}! They are on their way to save the day!";
        var publishRequest = new Amazon.SimpleNotificationService.Model.PublishRequest
        {
            TopicArn = topicArn,
            Message = message,
            Subject = "Superhero Alert"
        };

        var response = await snsClient.PublishAsync(publishRequest);
        if (response.HttpStatusCode != System.Net.HttpStatusCode.OK)
        {
            return StatusCode((int)response.HttpStatusCode, "Failed to send SNS notification.");
        }

        return Ok($"Calling {hero.SuperName}! They are on their way to save the day!");
    }
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #1 : Call superhero API to send message to SNS</code></div></div></div>
<br>

    <p>In the above code, we‚Äôre using the SNS client to publish a message to the SNS topic. This ensures that our superhero call is broadcasted loud and clear!</p>
    <p>Here‚Äôs a quick recap of the AWS setup we did to make this work:</p>
    <ul><li>Defined appsettings for AWS, including the region and the SNS topic ARN.</li>
        <li>Set up credentials for the application. Check out the <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html" target="_blank">official AWS documentation</a> for configuring access key ID and secret access key on your local machine.</li>
        <li>Registered the dependency for <code>IAmazonSimpleNotificationService</code>.</li></ul>

    <h5>üîß Configuring appsettings.json</h5>
    <p>Ensure your <code>appsettings.json</code> file includes the following configuration for AWS:</p>
    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    {
        "AWS": {
            "Region": "us-east-1",
            "SnsTopicArn": "arn:aws:sns:us-east-1:123456789012:dev-superhero-called"
        }
    }
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #2 : appsettings.json configuration</code></div></div></div>
<br>
    <p><i>Note: To retrieve the SNS Topic ARN, create a topic in the AWS Management Console or using the AWS CLI. Refer to the <a href="https://docs.aws.amazon.com/sns/latest/dg/sns-create-topic.html" target="_blank">AWS documentation</a> for details.</i></p>

    <h4>Setting Up LocalStack for Integration Testing</h4>
    <p>For more information, visit the official LocalStack website: <a href="https://localstack.cloud/" target="_blank">https://localstack.cloud/</a>.</p>
    <p>LocalStack is like having your own personal AWS cloud running locally. Below is a step-by-step guide to setting it up for integration testing in a .NET application. For more details, refer to the <a href="https://testcontainers.com/modules/localstack/" target="_blank">Testcontainers.LocalStack documentation</a>.</p>

  
  <div class="small-table"><h6>A quick glance on using localstack for testing vs using real AWS resources</h6>
    <table class="table table-bordered table-striped"><thead class="thead-light"><tr><th>Aspect</th>
          <th>LocalStack</th>
          <th>Real AWS</th></tr></thead>
      <tbody><tr><td>Cost</td>
          <td>‚úÖ Free or minimal cost for local testing.</td>
          <td>‚ùå Can be expensive, especially for high-frequency testing.</td></tr>
        <tr><td>Speed</td>
          <td>‚úÖ Faster as it runs locally without network latency.</td>
          <td>‚ùå Slower due to network calls and AWS service response times.</td></tr>
        <tr><td>Environment</td>
          <td>‚úÖ Runs locally, no dependency on internet or AWS account.</td>
          <td>‚ùå Requires internet and a valid AWS account.</td></tr>
        <tr><td>Feature Coverage</td>
          <td>‚ùå Supports many AWS services but may lack full feature parity.</td>
          <td>‚úÖ Complete feature set and latest updates.</td></tr>
        <tr><td>Realism</td>
          <td>‚ùå Simulates AWS services but may not perfectly replicate behavior.</td>
          <td>‚úÖ Provides real-world behavior and interactions.</td></tr>
        <tr><td>Setup Complexity</td>
          <td>‚úÖ Can be quickly spinned up using docker or local setup</td>
          <td>‚ùå Requires AWS credentials and service configuration.</td></tr>
        <tr><td>Scalability Testing</td>
          <td>‚ùå Limited to local machine resources.</td>
          <td>‚úÖ Can test real-world scalability and performance.</td></tr>
        <tr><td>Debugging</td>
          <td>‚úÖ Easier to debug locally with full control over the environment.</td>
          <td>‚ùå Harder to debug due to remote infrastructure.</td></tr></tbody></table></div>

  <p class="tip">üí° LocalStack isn't just for testing; it also speeds up development by emulating AWS locally, reducing costs and dependency on internet connectivity while ensuring AWS API compatibility.</p>

    <h5>Define the LocalStack Container</h5>
    <p>The <code>LocalStackContainer</code> is configured using the <code>Testcontainers.LocalStack</code> library. This setup specifies the Docker image, wait strategy, and cleanup options.</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    private readonly LocalStackContainer _localStackContainer =
        new LocalStackBuilder()
            .WithImage("localstack/localstack")
            .WithWaitStrategy(Wait.ForUnixContainer().UntilMessageIsLogged("Ready."))
            .WithCleanUp(true)
            .WithAutoRemove(true)
            .Build();
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #3 : Building LocalStack container</code></div></div></div>
<br>

    <h5>Start the LocalStack Container</h5>
    <p>The container is started asynchronously in the <code>InitializeAsync</code> method to ensure it‚Äôs ready before running tests.</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    await _localStackContainer.StartAsync();
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #4 : Starting LocalStack container</code></div></div></div>
<br>

    <h5>Create an SNS Topic</h5>
    <p>We create an SNS topic using the <code>awslocal sns create-topic</code> command inside the LocalStack container. The output is parsed to extract the <code>TopicArn</code>.</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    private async Task&lt;string?&gt; CreateSnsTopic()
    {
        var createTopicResult = await _localStackContainer.ExecAsync(
        [
            "awslocal", "sns", "create-topic", "--name", "dev-superhero-called"
        ]);

        var createTopicOutput = createTopicResult.Stdout;
        var topicArn = JsonNode.Parse(createTopicOutput)?["TopicArn"]?.ToString();
        if (string.IsNullOrEmpty(topicArn))
        {
            throw new InvalidOperationException("Failed to create SNS topic in LocalStack.");
        }

        return topicArn;
    }
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #5 : Creating SNS topic</code></div></div></div>
<br>

    <h5>Expose the LocalStack Container</h5>
    <p>The <code>LocalStackContainer</code> is exposed as a property for use in tests, allowing additional AWS CLI commands to be executed.</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    public LocalStackContainer LocalStackContainer => _localStackContainer;
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #6 : Exposing LocalStack container object</code></div></div></div>
<br>

    <h5>Clean Up Resources</h5>
    <p>Once the tests are done, the container is stopped and cleaned up to ensure no leftover resources.</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    public async Task DisposeAsync()
    {
        await _localStackContainer.DisposeAsync();
    }
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #7 : Cleaning up LocalStack container</code></div></div></div>
<br>

  <p>With this setup, LocalStack is ready to emulate AWS services for integration testing. By using <code>LocalStackContainer.ExecAsync</code>, you can directly execute AWS CLI commands inside the LocalStack container, making it easy to manage AWS resources like SNS topics and SQS queues during tests.</p>

    <h4>LocalStack Setup in CustomApiFactory</h4>
    <p>The <code>CustomApiFactory</code> class is responsible for configuring the test environment, including setting up LocalStack for integration testing. Below are the steps and code snippets related to LocalStack setup in this class.</p>

    <h5>Replace the SNS Client with LocalStack</h5>
    <p>The existing <code>IAmazonSimpleNotificationService</code> client is replaced with a LocalStack SNS client. This ensures that all SNS operations during tests are directed to LocalStack.</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    builder.ConfigureServices(services =>
    {
        var snsClient = services.SingleOrDefault(d => d.ServiceType == typeof(IAmazonSimpleNotificationService));
        if (snsClient != null)
        {
            services.Remove(snsClient);
        }
        services.AddSingleton(GetSnsClient(new Uri(SharedFixture.LocalStackContainer.GetConnectionString())));
    });
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #8 : Null check for snsClient</code></div></div></div>
<br>

    <p>The <code>GetSnsClient</code> method creates an SNS client configured to use the LocalStack endpoint. This client is used for all SNS operations during tests.</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    private IAmazonSimpleNotificationService GetSnsClient(Uri serviceUrl)
    {
        var credentials = new BasicAWSCredentials("keyId", "secret");
        var clientConfig = new AmazonSimpleNotificationServiceConfig
        {
            ServiceURL = serviceUrl.ToString()
        };
        return new AmazonSimpleNotificationServiceClient(credentials, clientConfig);
    }
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #9 : Method to create LocalStack SNS client</code></div></div></div>
<br>

    <h5>Override Application Configuration</h5>
    <p>The SNS topic ARN created in LocalStack is injected into the application configuration. This ensures that the application uses the correct topic ARN during tests.</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    builder.ConfigureAppConfiguration((_, configBuilder) =>
    {
        Console.WriteLine($"SNS topic in config {sharedFixture.SnsTopicArn}");
        configBuilder.AddInMemoryCollection(new Dictionary&lt;string, string&gt;
        {
            ["SuspectServiceUrl"] = sharedFixture.SuspectServiceUrlOverride,
            ["AWS:SnsTopicArn"] = sharedFixture.SnsTopicArn
        }!);
    });
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #10 : Overriding application configuration</code></div></div></div>
<br>

    <p>The <code>CustomApiFactory</code> class ensures that all SNS operations during integration tests are directed to LocalStack. By replacing the default SNS client and overriding the application configuration, it provides a seamless testing environment for AWS integrations.</p>

    <h4>Finally, the Test!</h4>
    <p>The test verifies that the <code>CallSuperHero</code> API correctly publishes a message to an SNS topic and that the message is received by an SQS queue subscribed to the topic. This test uses LocalStack to emulate AWS services.</p>

    <div class="container"><div class="row"><div class="col-12"><pre class="pre-scrollable rounded border border-2 p-1 px-4"><code class="language-csharp" style="font-size: 0.8rem;">
    [Fact(DisplayName = "CallSuperHero API raises correct SNS notification using LocalStack")]
    public async Task CallSuperHero_Raises_Correct_SNS_Notification_Using_LocalStack()
    {
        // Arrange
        var superHeroName = "Venom";
        factory.SharedFixture.SuperHeroDbContext.SuperHero.AddRange(new List&lt;SuperHeroApiWith3rdPartyService.Data.Models.SuperHero&gt;()
        {
            new(5, "Venom", "Eddie Brock", "Super strength, Shape-shifting, Healing factor", "San Francisco", 35),
        });
        await factory.SharedFixture.SuperHeroDbContext.SaveChangesAsync();

        // Create SQS queue and subscribe it to the SNS topic
        var queueName = "superhero-called-queue";
        var queue = await factory.SharedFixture.LocalStackContainer.ExecAsync(["awslocal", "sqs", "create-queue", "--queue-name", queueName]);
        var queueUrl = JsonNode.Parse(queue.Stdout)!["QueueUrl"]!.ToString();

        var queueAttributeResult = await factory.SharedFixture.LocalStackContainer.ExecAsync(["awslocal", "sqs", "get-queue-attributes", "--queue-url", queueUrl, "--attribute-names", "All"]);

        // Extract the QueueArn from the queue attributes
        var queueArn = JsonNode.Parse(queueAttributeResult.Stdout)!["Attributes"]!["QueueArn"]!.ToString();

        // Subscribe the SQS queue to the SNS topic
        await factory.SharedFixture.LocalStackContainer.ExecAsync(["awslocal", "sns", "subscribe", "--topic-arn", factory.SharedFixture.SnsTopicArn, "--protocol", "sqs", "--notification-endpoint", queueArn]);

        // Act
        var response = await factory.CreateClient().PostAsJsonAsync($"/SuperHero/call-superhero?superHeroName={superHeroName}", new { });

        // Assert
        response.StatusCode.Should().Be(HttpStatusCode.OK);
        var responseMessage = await response.Content.ReadAsStringAsync();
        responseMessage.Should().Contain($"Calling {superHeroName}! They are on their way to save the day!");

        // Verify SNS message was published
        var messages = await factory.SharedFixture.LocalStackContainer.ExecAsync(
        [
          "awslocal", "sqs", "receive-message", "--queue-url", queueUrl
        ]);
        var sqsMessages = JsonNode.Parse(messages.Stdout);
        var message = sqsMessages!["Messages"]![0]!["Body"]!.ToString();
        message.Should().Contain($"Calling {superHeroName}! They are on their way to save the day!");
    }
    </code></pre></div><div class="col-12 text-center"><code>Code Sample #11 : Test for CallSuperHero API</code></div></div></div>
<br>

    <style>
    .image-header {
        margin: 0 auto; /* Centers the div */
        text-align: center;
    }

    .blog-support-image {
        width: 100%; /* Ensure the image is fully responsive */
        height: auto;
        border-radius: 10px;
        transition: transform 0.5s ease-in-out;
    }

    .magnified {
        width: 100%; /* Ensure the magnified image is fully responsive */
        height: auto;
        border-radius: 10px;
        transform: scale(1.5); /* Magnify the image */
        transition: transform 0.5s ease-in-out;
    }

    .cursor-magnify {
        cursor: zoom-in; /* Circular magnify button */
    }

    .cursor-de-magnify {
        cursor: zoom-out; /* Circular de-magnify button */
    }

    figcaption {
        font-style: italic;
        padding: 2px;
        text-align: center;
    }

    .figure-caption {
        font-size: 0.9rem; /* Adjust caption size */
        color: #6c757d; /* Muted text color */
        text-align: center; /* Center align */
        margin-top: 8px; /* Space between image and caption */
        font-weight: 500; /* Slightly bold for readability */
    }

    .figure-caption strong {
        color: #343a40; /* Darker color for image number */
        font-weight: 600; /* Make image number bold */
    }
</style>

<div class="row image-header"><figure class="text-center"><img src="/images/blog/integration-testing/handling-aws/passing test.png" class="img-fluid rounded mx-auto d-block my-3 border border-2 border-success blog-support-image cursor-magnify" alt="Passing Test" />
        <figcaption class="figure-caption"><strong>Figure 1 :</strong> Passing Test</figcaption></figure></div>

    <p>This test demonstrates how to use LocalStack to verify that the <code>CallSuperHero</code> API correctly interacts with AWS SNS and SQS. By emulating AWS services locally or via test containers, the test ensures that the API behaves as expected without incurring costs or requiring access to real AWS resources.</p>

    <p>If you want to explore the actual code discussed in this article, feel free to visit the GitHub repository: <a href="https://github.com/ajaysskumar/SuperHeroSolution" target="_blank">https://github.com/ajaysskumar/SuperHeroSolution</a>. It contains the complete implementation and test setup for the <code>CallSuperHero</code> API and AWS integration testing using LocalStack.</p></div>
    <div class="content-wrapper mt-4"><script src="https://giscus.app/client.js" data-repo="ajaysskumar/dev-arena" data-repo-id="R_kgDONiBGGQ" data-category="Comments" data-category-id="DIC_kwDONiBGGc4Cq2ND" data-mapping="pathname" data-strict="0" data-reactions-enabled="0" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script></div></div>

<style>
    .content-wrapper {
        width: 50%; /* Leaves 20% space on left and right */
        background: white;
    }

    @media (max-width: 768px) {
        .content-wrapper {
            width: 90%; /* On smaller screens, reduce left-right space */
        }
    }
</style></article>
        <footer class="bg-dark text-white py-4 mt-auto"><div class="container-fluid"><div class="row align-items-center"><div class="col-12 col-md-4 d-flex justify-content-md-start justify-content-center"><p class="mb-0">Copyright ¬© 2025 Dev Codex</p></div>

            
            <div class="col-12 col-md-8 d-flex justify-content-md-end justify-content-center mt-2 mt-md-0"><a href="https://github.com/ajaysskumar" class="text-white me-3" target="_blank"><i class="bi bi-github"></i></a>
                <a href="https://www.linkedin.com/in/ajaykumar1807" class="text-white me-3" target="_blank"><i class="bi bi-linkedin"></i></a></div></div></div></footer></main></div>
        <!--Blazor:{"prerenderId":"d32466351ad147bbb02f4a3955a64632"}-->
<!-- %%-PRERENDERING-END-%% -->
<!--Blazor-WebAssembly-Component-State:eyJfX2ludGVybmFsX19BbnRpZm9yZ2VyeVJlcXVlc3RUb2tlbiI6ImV5SjJZV3gxWlNJNklrTm1SRW80UkU1WmFVaEhha0ZhYkU5bmVIcE1UVFJtTnpKZllVeGthM05sZFdnNE0xWjJiRTVMVG5VNE5scEVSa0ZvUjFFNFgwTmxaRUV4ZGpsbk0xTmtZMDF0WkRkQlpsVlZkVVp2Y0ZKM01YcFJaVWhTTTBzelVXcFdYMmhMTkZsQ1dHUkRZMUozVlVSdWRGbEZOM040YTFwdlZVMVlRelpoTFhkNU1IRXdSbmRJUVhkV1pESkZiVXBCVjJweWRTMVlla3Q1TFRNemJsQXdJaXdpWm05eWJVWnBaV3hrVG1GdFpTSTZJbDlmVW1WeGRXVnpkRlpsY21sbWFXTmhkR2x2YmxSdmEyVnVJbjA9In0=--></div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">üóô</a>
    </div>
    <script src="_framework/blazor.webassembly.js" autostart="false"></script>
    <script src="brotliloader.min.js" type="module"></script>



</body></html>