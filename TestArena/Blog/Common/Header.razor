@using System.ComponentModel.DataAnnotations

@code {
    [Required][Parameter] public string Title { get; set; }
    [Required][Parameter] public string Image { get; set; }
    [Required][Parameter] public DateTime PublishedOn { get; set; }
    [Required][Parameter] public string Authors { get; set; }
    [Parameter] public string Description { get; set; } = "";
    [Parameter] public bool IsOlderThumbnailFormat { get; set; } = true;
}

<style>
    .article-header {
        margin: 0 auto;
        /* Centers the div */
        text-align: center;
        padding: 20px 0;
    }

    .container-fluid,
    .row,
    .col-md-12,
    .col-6 {
        padding: 0 !important;
        margin: 0 !important;
    }

    .article-image {
        max-width: 500px !important;
        height: auto;
        border-radius: 10px;
    }
</style>

<OpenGraphTags
    Title="@Title"
    Description="@Description"
    ImageUrl="@Image" />

<header class="article-header">
    <div class="row">
        <div class="col-md-12">
            <h1 class="fw-bold">@Title</h1>
        </div>
        <div class="col-md-12">
            @if (IsOlderThumbnailFormat)
            {
                <img src="@Image" alt="Article Banner" height="200" width="auto"
                    class="img-fluid rounded mx-auto d-block my-3" loading="lazy" />
            }
            else
            {
                <svg width="1200" height="630" viewBox="0 0 1200 630" fill="none" xmlns="http://www.w3.org/2000/svg" class="img-fluid rounded mx-auto d-block my-3" style="max-width: 100%; height: auto;">
                    <defs>
                        <linearGradient id="purpleGradient" x1="0" y1="0" x2="1200" y2="630" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#7F3CCB" />
                            <stop offset="1" stop-color="#B388FF" />
                        </linearGradient>
                        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                            <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="#4B2067" flood-opacity="0.3"/>
                        </filter>
                    </defs>
                    <rect width="1200" height="630" rx="48" fill="url(#purpleGradient)"/>
                    <foreignObject x="20%" y="20%" width="60%" height="60%">
                        <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: center; justify-content: center; height: 100%; text-align: center;">
                            <span style="font-family: Segoe UI, Arial, sans-serif; font-size: 64px; font-weight: bold; color: #fff; filter: drop-shadow(0 8px 12px rgba(75, 32, 103, 0.3));">
                                @Title
                            </span>
                        </div>
                    </foreignObject>
                </svg>
            }
        </div>
        <div class="col-md-12">
            <div class="container-fluid">
                <div class="row">
                    <!-- Author on the left -->
                    <div class="col-md-4 col-xs-12 d-flex justify-content-md-start justify-content-center">
                        <span class="text-secondary fw-bold">Author(s): </span>
                        <span class="text-secondary fw-bold ms-1">@Authors</span>
                    </div>

                    <div class="col-md-4 col-xs-12 d-flex justify-content-md-center justify-content-center">
                        <SocialShare Title="@Title" />
                    </div>

                    <!-- Published date on the right -->
                    <div class="col-md-4 col-xs-12 d-flex justify-content-md-end justify-content-center">
                        <span class="text-muted fw-bold">Last updated: @PublishedOn.ToString("dd MMM yyyy")</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
