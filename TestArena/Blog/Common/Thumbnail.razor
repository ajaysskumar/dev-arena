@using System.Collections.Generic

@code {
    [Parameter] public string ImageUrl { get; set; } = string.Empty;
    [Parameter] public string Title { get; set; } = string.Empty;
    [Parameter] public string Author { get; set; } = string.Empty;
    [Parameter] public string Date { get; set; } = string.Empty;
    [Parameter] public List<string> Category { get; set; } = [];
    [Parameter] public string BlogUrl { get; set; } = "#";
    [Parameter] public bool IsOlderThumbnailFormat { get; set; } = true;
}
<style>
    .custom-size {
        max-width: 400px;
        /* keep overflow hidden so the scaled card doesn't overflow layout */
        overflow: hidden;
    }
    .thumbnail-img {
        width: 100%;
        height: 220px;
        object-fit: fill;
        border-radius: 0.375rem 0.375rem 0 0;
        background: #f8f9fa;
        display: block;
        /* smooth filter transition for image brighten */
        transition: filter 250ms ease;
    }

    /* Slight zoom of the whole component on hover */
    .thumbnail-card {
        transition: transform 220ms ease, box-shadow 220ms ease;
        transform-origin: center center;
        will-change: transform;
    }

    .thumbnail-card:hover {
        transform: scale(1.04);
        box-shadow: 0 0.75rem 1.5rem rgba(18, 38, 63, 0.12);
    }

    /* Subtle image brighten on hover */
    .thumbnail-card:hover .thumbnail-img {
        filter: brightness(1.04);
    }
</style>

<div class="card shadow-sm custom-size thumbnail-card">
    <a href="@BlogUrl">
        @if (IsOlderThumbnailFormat)
        {
            <img src="@ImageUrl" class="thumbnail-img" alt="@Title">
        }
        else
        {
            <svg width="1200" height="630" viewBox="0 0 1200 630" fill="none" xmlns="http://www.w3.org/2000/svg" class="thumbnail-img" style="width: 100%; height: 220px;">
                <defs>
                    <linearGradient id="purpleGradient" x1="0" y1="0" x2="1200" y2="630" gradientUnits="userSpaceOnUse">
                        <stop stop-color="#7F3CCB" />
                        <stop offset="1" stop-color="#B388FF" />
                    </linearGradient>
                    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
                        <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="#4B2067" flood-opacity="0.3"/>
                    </filter>
                </defs>
                <rect width="1200" height="630" rx="48" fill="url(#purpleGradient)"/>
                <foreignObject x="20%" y="20%" width="60%" height="60%">
                    <div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: center; justify-content: center; height: 100%; text-align: center;">
                        <span style="font-family: Segoe UI, Arial, sans-serif; font-size: 64px; font-weight: bold; color: #fff; filter: drop-shadow(0 8px 12px rgba(75, 32, 103, 0.3));">
                            @Title
                        </span>
                    </div>
                </foreignObject>
            </svg>
        }
    </a>
    <div class="card-body">
        @foreach (var c in Category)
        {
            <a href="/filtered-blogs?tag=@c">
                <span class="badge bg-primary mx-1">
                    @c
                </span>
            </a>
        }
        <h5 class="card-title mt-2">
            <a href="@BlogUrl" class="text-decoration-none text-dark">@Title</a>
        </h5>
        <p class="card-text text-muted small">By @Author Â· @Date</p>
    </div>
</div>